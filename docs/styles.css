/* ============================================
   Livre ANOVA — Style professionnel et attractif
   ============================================ */

/* Palette (harmonisée avec le thème) */
:root {
  --brand: #2c7fb8;
  --brand-2: #1d4e89;
  --paper: rgba(0,0,0,0.04);
  --paper-strong: rgba(0,0,0,0.08);
  --shadow-soft: 0 8px 28px rgba(0,0,0,0.08);
}

[data-theme="dark"] {
  --paper: rgba(255,255,255,0.06);
  --paper-strong: rgba(255,255,255,0.12);
  --shadow-soft: 0 10px 34px rgba(0,0,0,0.35);
}

/* Typographie et lisibilité */
.quarto-title-block .title,
h1, h2, h3 {
  font-weight: 600;
  letter-spacing: -0.02em;
  margin-top: 1.75em;
  margin-bottom: 0.6em;
}

.quarto-title-block {
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--paper-strong);
}

.quarto-title-block .subtitle {
  font-weight: 400;
  opacity: 0.9;
}

.main-content {
  max-width: 75rem;
  margin-left: auto;
  margin-right: auto;
}

p {
  line-height: 1.7;
  text-align: justify;
}

/* Liens */
a {
  text-decoration-thickness: 0.08em;
  text-underline-offset: 0.16em;
}
a:hover {
  text-decoration-thickness: 0.12em;
}

/* Titres : rythme plus “book” */
h1 { margin-top: 1.3em; }
h2 { margin-top: 1.25em; }
h3 { margin-top: 1.1em; }

/* Listes */
ul, ol { padding-left: 1.15rem; }
li { margin: 0.25rem 0; }

/* Bloc de présentation (page d'accueil) — alignement comme modèle : nom centré, logo centré en dessous */
.presentation-block {
  text-align: center;
  max-width: 32rem;
  margin-left: auto;
  margin-right: auto;
  padding: 2rem 1rem;
}

.institution-item {
  text-align: center;
}

.institution-item strong {
  display: block;
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
  line-height: 1.4;
}

/* Chaque logo centré directement sous le nom de l'institution */
.logo-center {
  text-align: center;
  margin-bottom: 0.5rem;
}

.logo-center img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  height: auto;
  max-height: 90px;
  width: auto;
  object-fit: contain;
}

/* Espace vertical entre les deux blocs institution (nom + logo) */
.institution-spacer {
  height: 2.5rem;
}

.authors-block {
  text-align: center;
  font-size: 0.9rem;
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(0,0,0,0.1);
  line-height: 1.6;
}

[data-theme="dark"] .authors-block {
  border-top-color: rgba(255,255,255,0.15);
}

/* Cartes chapitres (index) */
.chapter-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.25rem;
  margin-top: 2rem;
}

.chapter-card {
  background: var(--bs-body-bg);
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 10px;
  padding: 1.25rem 1.5rem;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.chapter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}

[data-theme="dark"] .chapter-card {
  border-color: rgba(255,255,255,0.1);
}

[data-theme="dark"] .chapter-card:hover {
  box-shadow: 0 8px 24px rgba(0,0,0,0.3);
}

.chapter-card .chapter-num {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #2980b9;
  margin-bottom: 0.35rem;
}

.chapter-card h3 {
  font-size: 1.05rem;
  margin-top: 0;
  margin-bottom: 0.5rem;
}

.chapter-card p {
  font-size: 0.9rem;
  margin-bottom: 0;
  text-align: left;
  line-height: 1.55;
}

/* Callouts personnalisés */
.callout {
  border-radius: 8px;
  border-left-width: 4px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.04);
}

[data-theme="dark"] .callout {
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Tableaux */
.quarto-content table {
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.quarto-content table tbody tr:nth-child(even) {
  background: var(--paper);
}

.quarto-content table thead th {
  font-weight: 600;
  border-bottom-width: 2px;
}

/* Blocs de code */
.sourceCode {
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

pre.sourceCode {
  padding: 1rem 1.25rem;
}

[data-theme="dark"] pre.sourceCode {
  background: rgba(0,0,0,0.25);
}

[data-theme="dark"] .sourceCode {
  box-shadow: 0 2px 12px rgba(0,0,0,0.2);
}

/* Boutons “Code” (code-fold/code-tools) */
.code-tools, .code-fold {
  border-radius: 10px;
}

/* Formules mathématiques */
.MathJax, .math {
  overflow-x: auto;
}

/* Navigation du livre */
.sidebar-item-container {
  font-size: 0.9rem;
}

.sidebar-item-container .active {
  font-weight: 600;
}

/* Sidebar plus nette */
.sidebar nav {
  padding-top: 0.35rem;
}
.sidebar .sidebar-item-text {
  line-height: 1.35;
}

/* Table des matières : plus compacte */
nav.toc ul {
  padding-left: 0.9rem;
}
nav.toc li {
  margin: 0.15rem 0;
}

/* Blocs "kable"/gtsummary : éviter l'effet “massif” */
.table {
  --bs-table-bg: transparent;
}

/* Footer / fin de section */
.section-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1), transparent);
  margin: 2.5rem 0;
}

[data-theme="dark"] .section-divider {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
}
