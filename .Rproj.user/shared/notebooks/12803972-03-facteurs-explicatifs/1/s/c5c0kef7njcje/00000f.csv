"0","# --- Import : plan = mesures répétées T1–T4 pour Var1 et Var2, dans chaque groupe ---"
"0","if (!requireNamespace(""readxl"", quietly = TRUE)) install.packages(""readxl"", repos = ""https://cloud.r-project.org"", quiet = TRUE)"
"0","library(readxl)"
"0","d <- read_excel(""donnees/donnees.xlsx"")"
"0",""
"0","# id = identifiant de chaque plante (plusieurs plantes par groupe×variete) ; nécessaire pour ddl résiduels > 0"
"0","if (!""id"" %in% names(d)) {"
"0","  n_periodes <- d %>% pull(periode) %>% n_distinct()"
"0","  d <- d %>%"
"0","    arrange(groupe, variete, periode) %>%"
"0","    group_by(groupe, variete) %>%"
"0","    mutate(within_subj = (row_number() - 1) %/% n_periodes + 1L) %>%"
"0","    ungroup() %>%"
"0","    mutate(id = paste0(as.character(groupe), ""_"", as.character(variete), ""_"", within_subj))"
"0","}"
"0",""
"0","d$taille <- as.numeric(as.character(d$taille))"
"0","d <- d %>%"
"0","  mutate("
"0","    periode = factor(as.character(periode), levels = c(""T1"", ""T2"", ""T3"", ""T4"")),"
"0","    groupe = factor(groupe, levels = c(""Ma"", ""Ca"", ""An"")),"
"0","    variete = factor(variete),"
"0","    id = factor(id)"
"0","  )"
