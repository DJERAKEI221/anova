"0","# --- Préparation des variables ---"
"0","# Taille : virgule décimale -> point (ex. 21,5 -> 21.5)"
"0","if (is.character(d$taille)) d$taille <- as.numeric(chartr("","", ""."", d$taille))"
"0",""
"0","# Facteurs : période (T1–T4), groupe (Ma, Ca, An), variété, id"
"0","d <- d %>%"
"0","  mutate("
"0","    periode = factor("
"0","      if_else(grepl(""^T"", as.character(periode)), as.character(periode), paste0(""T"", as.character(periode))),"
"0","      levels = paste0(""T"", 1:4)"
"0","    ),"
"0","    groupe = factor(groupe, levels = c(""Ma"", ""Ca"", ""An"")),"
"0","    variete = factor(variete),"
"0","    id = factor(id)"
"0","  )"
